<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="icon" type="image/x-icon" href="/images/favicon-32x32-new.webp" />
    <title>Sonuçlar</title>

    <style>
.kategori-listesi {
        list-style: none;
        padding: 0;
    }
    
    .kategori-listesi li {
        font-size: 14px; /* İstenilen boyuta göre ayarlayabilirsiniz */
        margin-bottom: 5px;
    }
    
    @media (max-width: 768px) {
        .kategori-listesi li {
            font-size: 12px; /* Küçük ekranlarda daha küçük font */
        }
    }
   
   .d-flex{
    margin-top: auto;
   }

  
    </style>
    
    
    <link href="https://stackpath.bootstrapcdn.com/bootstrap/4.5.2/css/bootstrap.min.css" rel="stylesheet">
</head>
<body>
    <div class="container">
        <div class="row">
            <div class="col-sm-2">
              <a href="/" > 
    <svg  xmlns="http://www.w3.org/2000/svg" viewBox="0 0 171 28"><path fill="#FF6000" d="M11.525 6.04c.808.344 1.471.87 1.99 1.58.44.6.71 1.218.807 1.852.099.635.148 1.671.148 3.108v9.448h-4.293v-9.79c0-.866-.146-1.565-.439-2.097-.38-.748-1.103-1.122-2.167-1.122-1.103 0-1.94.371-2.511 1.115-.571.743-.856 1.804-.856 3.182v8.712H0V.08h4.204v7.243c.778-.768 1.167-1.018 1.945-1.327.817-.324 1.8-.473 2.68-.473.99 0 1.888.172 2.696.517zm10.242 3.868c-.594.612-.967 1.442-1.12 2.488h7.242c-.076-1.115-.45-1.962-1.12-2.54-.67-.578-1.5-.867-2.493-.867-1.079 0-1.915.307-2.509.92zm6.289-3.632c1.121.503 2.048 1.296 2.778 2.379.658.955 1.086 2.063 1.281 3.324.113.738.159 1.802.138 3.19h-11.71c.066 1.613.626 2.744 1.682 3.393.642.404 1.415.605 2.318.605.957 0 1.736-.246 2.334-.738.326-.265.615-.634.865-1.106h4.292c-.113.954-.633 1.923-1.558 2.906-1.44 1.563-3.457 2.345-6.049 2.345-2.14 0-4.027-.66-5.663-1.978-1.636-1.32-2.453-3.464-2.453-6.437 0-2.785.738-4.92 2.214-6.407 1.477-1.486 3.393-2.229 5.75-2.229 1.399 0 2.66.251 3.78.753zM44.628 10.7c-.571-.953-1.498-1.43-2.78-1.43-1.54 0-2.597.722-3.173 2.168-.298.767-.447 1.74-.447 2.92 0 1.869.501 3.182 1.504 3.938.596.443 1.301.664 2.116.664 1.182 0 2.084-.452 2.706-1.357.62-.904.93-2.109.93-3.614 0-1.238-.285-2.335-.856-3.289zm3.226-3.024c1.312 1.387 1.967 3.423 1.967 6.107 0 2.832-.64 4.99-1.922 6.475-1.282 1.485-2.932 2.228-4.951 2.228-1.287 0-2.356-.32-3.207-.959-.465-.354-.92-.87-1.366-1.55v7.96h-4.159V5.95h4.027v2.375c.455-.697.94-1.248 1.454-1.652.94-.717 2.059-1.077 3.355-1.077 1.89 0 3.491.694 4.802 2.08zm7.588 9.22c.089.747.281 1.278.578 1.592.523.56 1.492.84 2.905.84.83 0 1.49-.122 1.978-.368.49-.245.734-.614.734-1.106 0-.472-.197-.83-.591-1.077-.394-.245-1.86-.669-4.398-1.268-1.827-.453-3.114-1.017-3.861-1.697-.748-.668-1.121-1.632-1.121-2.89 0-1.485.584-2.761 1.751-3.828 1.168-1.067 2.811-1.6 4.93-1.6 2.01 0 3.649.4 4.915 1.202 1.266.801 1.993 2.185 2.18 4.152h-4.204c-.059-.541-.212-.968-.458-1.284-.464-.57-1.253-.855-2.366-.855-.918 0-1.57.143-1.96.428-.39.285-.584.62-.584 1.003 0 .482.207.83.62 1.047.415.227 1.878.615 4.39 1.165 1.674.394 2.93.988 3.766 1.785.826.807 1.239 1.815 1.239 3.024 0 1.593-.594 2.893-1.781 3.901-1.188 1.008-3.023 1.512-5.506 1.512-2.532 0-4.402-.534-5.608-1.6-1.208-1.067-1.81-2.427-1.81-4.079h4.262zm12.676 5.132V5.951h4.263v16.077h-4.263zm17.888-4.35c.605-.876.908-2.026.908-3.452 0-1.141-.149-2.085-.446-2.833-.565-1.415-1.606-2.123-3.123-2.123-1.537 0-2.593.693-3.168 2.08-.298.737-.446 1.69-.446 2.86 0 1.378.307 2.518.922 3.423.615.905 1.551 1.357 2.81 1.357 1.091 0 1.939-.437 2.543-1.313zm3.514-9.795c1.203 1.524 1.804 3.491 1.804 5.9 0 2.498-.593 4.568-1.78 6.21-1.185 1.642-2.84 2.463-4.966 2.463-1.334 0-2.407-.265-3.217-.796-.484-.315-1.008-.865-1.571-1.652v2.02h-4.145V.036h4.204v8.01c.534-.748 1.123-1.318 1.766-1.712.762-.491 1.732-.737 2.91-.737 2.128 0 3.793.762 4.995 2.286zm8.31-1.932v9.69c0 .915.107 1.604.323 2.066.381.816 1.13 1.224 2.245 1.224 1.428 0 2.407-.58 2.935-1.74.274-.63.412-1.46.412-2.493V5.95h4.262v16.077h-4.086v-2.271a8.17 8.17 0 0 0-.294.442 2.928 2.928 0 0 1-.559.65c-.657.59-1.291.993-1.905 1.21-.612.215-1.33.323-2.154.323-2.373 0-3.972-.855-4.795-2.566-.461-.944-.692-2.335-.692-4.174V5.95h4.308zm22.35-.376c.055.005.175.012.362.022v4.307a11.593 11.593 0 0 0-1.21-.074c-1.691 0-2.826.551-3.407 1.652-.325.62-.486 1.574-.486 2.862v7.684h-4.234V5.951h4.012v2.802c.65-1.071 1.215-1.804 1.696-2.197.787-.659 1.81-.988 3.069-.988.078 0 .145.002.198.007zm28.693 12.087c.62-.885.93-2.03.93-3.436 0-1.967-.497-3.373-1.49-4.219a3.208 3.208 0 0 0-2.124-.767c-1.23 0-2.131.465-2.707 1.394-.575.93-.863 2.083-.863 3.459 0 1.485.293 2.672.878 3.562.585.89 1.472 1.335 2.662 1.335s2.095-.442 2.714-1.328zM147.841 6.21a5.112 5.112 0 0 1 1.844 1.778V.037h4.262v21.991h-4.085v-2.227c-.6.954-1.284 1.648-2.05 2.08-.768.433-1.721.649-2.862.649-1.878 0-3.459-.76-4.742-2.279-1.284-1.52-1.925-3.468-1.925-5.849 0-2.743.632-4.9 1.895-6.474 1.264-1.574 2.953-2.36 5.067-2.36.973 0 1.838.213 2.596.64zm-15.853 8.035c-.268.167-.54.302-.813.404-.274.103-.649.2-1.127.288l-.954.176c-.895.157-1.538.349-1.928.575-.661.382-.991.976-.991 1.78 0 .716.201 1.234.605 1.553.403.32.894.478 1.472.478.917 0 1.761-.264 2.534-.794.772-.53 1.172-1.497 1.202-2.9v-1.56zm.133 7.798s.03-1.518 0-1.881a8.662 8.662 0 0 1-2.013 1.604c-.908.52-1.935.78-3.08.78-1.46 0-2.667-.414-3.62-1.244-.952-.829-1.428-2.003-1.428-3.524 0-1.973.766-3.4 2.298-4.283.84-.481 2.076-.825 3.707-1.03l1.438-.178c.781-.098 1.34-.22 1.676-.368.602-.255.905-.652.905-1.192 0-.657-.232-1.111-.695-1.361-.462-.25-1.14-.375-2.036-.375-1.005 0-1.716.245-2.133.735-.299.363-.498.854-.597 1.472h-4.048c.089-1.403.483-2.555 1.183-3.46 1.113-1.411 3.025-2.118 5.735-2.118 1.764 0 3.331.349 4.701 1.044 1.37.698 2.054 2.012 2.054 3.945v7.36c0 .51.01 3.348.03 4.074h-4.077zm34.028-7.798a4.53 4.53 0 0 1-.814.404 6.902 6.902 0 0 1-1.126.288l-.955.176c-.895.157-1.537.349-1.928.575-.66.382-.991.976-.991 1.78 0 .716.202 1.234.606 1.553.403.32.894.478 1.472.478.916 0 1.76-.264 2.533-.794.772-.53 1.173-1.497 1.203-2.9v-1.56zm.132 7.798s.03-1.518 0-1.881a8.675 8.675 0 0 1-2.013 1.604c-.908.52-1.935.78-3.08.78-1.46 0-2.667-.414-3.62-1.244-.951-.829-1.427-2.003-1.427-3.524 0-1.973.765-3.4 2.297-4.283.84-.481 2.077-.825 3.707-1.03l1.439-.178c.78-.098 1.339-.22 1.675-.368.603-.255.905-.652.905-1.192 0-.657-.231-1.111-.694-1.361-.463-.25-1.141-.375-2.036-.375-1.005 0-1.717.245-2.134.735-.299.363-.497.854-.597 1.472h-4.048c.089-1.403.483-2.555 1.183-3.46 1.113-1.411 3.025-2.118 5.736-2.118 1.763 0 3.33.349 4.7 1.044 1.37.698 2.055 2.012 2.055 3.945v7.36c0 .51.01 3.348.03 4.074h-4.078zM72.496 2.315a2.315 2.315 0 1 1-4.629 0 2.315 2.315 0 0 1 4.63 0z"></path></svg>
    </a>
    <p><span style="color: #FF6000;"><strong>Premium'u</span> keşfet </strong></p>
    
    
            </div>
            <div class="col-sm-4">
              <form action="/search" method="POST">
                <div class="input-group">
                    <input type="text" class="form-control" placeholder="Ürün, kategori veya marka ara" aria-label=" aria-describedby="basic-addon1" name="keyword">
                    <div class="input-group-append">
                        <button class="btn btn-secondary" type="submit">ARA</button>
                    </div>
                </div>
            </form>
            
          </div>
          
    
          </div>
    
        </div>
          
    <div class="container-fluid">
        <div class="row">
            <div class="col-md-3">
                <h2>Kategoriler</h2>
                <ul id="kategori-listesi" class="kategori-listesi">
                    {% for kategori in kategoriler %}
                    <li><a href="/search?category={{ kategori[0] }}" style="color: #484848; text-decoration: none;">{{ kategori[0] }}</a></li>
                    {% endfor %}
                </ul>
            </div>
            
            
            <div class="col-md-9">
                <form id="filterForm" method="post" action="{{ url_for('apply_filters') }}">
                    <div class="quantity-wrapper d-flex justify-content-between">
                        <div>
                            <h4>Teslimat Filtreleri</h4>
                            <p> Konumunuzu seçerek hızlı teslimattan faydalanın.</p>
                        </div>
                        <div class="d-flex">
                            <div class="form-group" style="display: flex; align-items: center;">
                                <select class="form-control" id="location" name="location" onchange="submitForm()" style="background-color: #ffefe5; color:#ff6000; border-color: orange; padding-left: 2rem;">
                                    <option value="">Konum seç</option>
                                    <option value="Ankara">Ankara</option>
                                    <option value="İstanbul">İstanbul</option>
                                    <option value="İzmir">İzmir</option>
                                </select>
                                <svg xmlns="http://www.w3.org/2000/svg" width="12" height="14" viewBox="0 0 20 20" class="LocationBox-h4lIOgrjeV3cXUr6whfT" style="fill: #ff6000; position: absolute; margin-left: 0.5rem;"><path d="M10 .952c4.03 0 7.75 4.102 7.75 7.895a7.54 7.54 0 01-.192 1.655c-.458 2.036-1.664 4.133-3.504 6.462-.268.339-.705.861-1.164 1.4l-.276.324c-.783.916-1.54 1.783-1.537 1.78-.255.31-.658.484-1.077.484a1.39 1.39 0 01-1.077-.485c.002.004-.754-.863-1.537-1.78l-.276-.323a57.397 57.397 0 01-1.164-1.4c-1.84-2.329-3.046-4.426-3.504-6.462a7.54 7.54 0 01-.192-1.655C2.25 5.054 5.97.952 10 .952zm0 1.244c-3.31 0-6.5 3.518-6.5 6.65 0 .445.055.906.162 1.384.408 1.815 1.532 3.77 3.267 5.965.753.953 2.946 3.467 2.96 3.484.009.01.053.029.111.029s.102-.019.11-.029c.015-.017 2.208-2.53 2.961-3.484 1.735-2.195 2.859-4.15 3.267-5.965.107-.478.162-.94.162-1.383 0-3.133-3.19-6.651-6.5-6.651zm0 3.158c1.902 0 3.438 1.567 3.438 3.493 0 1.925-1.536 3.492-3.438 3.492-1.902 0-3.438-1.567-3.438-3.492 0-1.926 1.536-3.493 3.438-3.493zm0 1.244c-1.205 0-2.188 1.003-2.188 2.249 0 1.245.983 2.248 2.188 2.248s2.188-1.003 2.188-2.248c0-1.246-.983-2.25-2.188-2.25z" fill="#ff6000" fill-rule="evenodd"></path></svg>
                            </div>
                            
                            
                            <div class="form-check ml-5" style="padding: 0.75rem 1.5rem; background-color: #f0f0f0; display: inline-block; border-radius: 5px; height: auto;">
                                <input class="form-check-input" type="checkbox" value="1" id="yarin_kapimda" name="yarin_kapimda" onchange="submitForm()">
                                <label class="form-check-label text-sm text-lg-md" for="yarin_kapimda">Yarın Kapımda</label>
                            </div>
                            
                            
                            
                            
                            
                        </div>
                    </div>
                </form>
                
                <script>
                    // Sayfa yüklendiğinde form elemanlarına önceki değerlerin atanması
                    window.onload = function() {
                        var lastLocation = localStorage.getItem("lastLocation");
                        var lastCheckedState = localStorage.getItem("lastCheckedState");
                
                        // Son konum bilgisini ve checkbox durumunu kontrol ederek form elemanlarına atama yapılıyor
                        if (lastLocation) {
                            document.getElementById("location").value = lastLocation;
                        }
                        if (lastCheckedState === "true") {
                            document.getElementById("yarin_kapimda").checked = true;
                        }
                    };
                
                    function submitForm() {
                        var currentLocation = document.getElementById("location").value; // Şu anki konum bilgisini alıyoruz
                        var yarinKapimdaChecked = document.getElementById("yarin_kapimda").checked; // "Yarın Kapımda" checkbox'ının durumunu kontrol ediyoruz
                
                        // Son konum bilgisini ve checkbox durumunu localStorage'a kaydediyoruz
                        localStorage.setItem("lastLocation", currentLocation);
                        localStorage.setItem("lastCheckedState", yarinKapimdaChecked);
                
                        // Formu submit ediyoruz
                        document.getElementById("filterForm").submit();
                    }
                </script>
                
                
                
                <div class="row">
                    {% for product in search_results %}
                    <div class="col-md-3 mb-4">
                        <div class="card h-100" onclick="redirectToDetails('{{ product[0] }}')"> <!-- Kartların yüksekliğini sabitler -->
                            <img src="{{ product_variants[product[0]][0][1] }}" class="card-img-top" alt="{{ product_variants[product[0]][0][0] }} Resmi">
                            <div class="card-body">
                                <p class="card-title mb-0">{{ product[1] }}</p> <!-- Başlık yüksekliğini 0 yapar -->
                                <!--<p class="card-text mb-1">{{ product[2] }}</p>  Açıklama yüksekliğini 1 yapar -->
                                <p class="card-text mb-1"><strong>{{ product[3] }}TL</strong></p>
                               
                                <div class="d-flex align-items-center">
                                    
                                    <svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" width="128px" height="20px" viewBox="0 0 128 20" version="1.1">
                                        <title>rating_star</title>
                                        <desc>Created with Sketch.</desc>
                                        <g id="Page-1" stroke="none" stroke-width="1" fill="none" fill-rule="evenodd">
                                            <g id="rating_star" transform="translate(-1.000000, -1.000000)" fill="#FFA900">
                                                <path d="M128.958,8.555 C128.833,8.167 128.475,7.904 128.072,7.904 C128.072,7.904 121.543,7.904 121.543,7.904 C121.543,7.904 119.527,1.637 119.527,1.637 C119.401,1.249 119.044,0.986 118.64,0.986 C118.236,0.986 117.878,1.249 117.753,1.637 C117.753,1.637 115.736,7.903 115.736,7.903 C115.736,7.903 109.21,7.903 109.21,7.903 C108.806,7.903 108.448,8.166 108.323,8.553 C108.199,8.941 108.335,9.367 108.662,9.605 C108.662,9.605 113.941,13.479 113.941,13.479 C113.941,13.479 111.926,19.747 111.926,19.747 C111.801,20.135 111.938,20.558 112.264,20.798 C112.429,20.917 112.621,20.978 112.813,20.978 C113.005,20.978 113.197,20.917 113.36,20.798 C113.36,20.798 118.639,16.926 118.639,16.926 C118.639,16.926 123.92,20.798 123.92,20.798 C124.249,21.039 124.69,21.039 125.017,20.798 C125.345,20.56 125.478,20.135 125.355,19.749 C125.355,19.749 123.34,13.481 123.34,13.481 C123.34,13.481 128.62,9.606 128.62,9.606 C128.947,9.367 129.082,8.942 128.958,8.555 Z" id="path-1"/>
                                                <path d="M102.825,8.555 C102.7,8.167 102.342,7.904 101.939,7.904 C101.939,7.904 95.41,7.904 95.41,7.904 C95.41,7.904 93.394,1.637 93.394,1.637 C93.269,1.249 92.911,0.986 92.507,0.986 C92.103,0.986 91.745,1.249 91.62,1.637 C91.62,1.637 89.603,7.903 89.603,7.903 C89.603,7.903 83.077,7.903 83.077,7.903 C82.673,7.903 82.315,8.166 82.191,8.553 C82.067,8.941 82.202,9.367 82.529,9.605 C82.529,9.605 87.808,13.479 87.808,13.479 C87.808,13.479 85.793,19.747 85.793,19.747 C85.668,20.135 85.805,20.558 86.132,20.798 C86.296,20.917 86.488,20.978 86.68,20.978 C86.872,20.978 87.064,20.917 87.227,20.798 C87.227,20.798 92.506,16.926 92.506,16.926 C92.506,16.926 97.787,20.798 97.787,20.798 C98.115,21.039 98.557,21.039 98.884,20.798 C99.212,20.56 99.345,20.135 99.223,19.749 C99.223,19.749 97.207,13.481 97.207,13.481 C97.207,13.481 102.487,9.606 102.487,9.606 C102.814,9.367 102.949,8.942 102.825,8.555 Z" id="path-2"/>
                                                <path d="M75.317,8.555 C75.191,8.167 74.834,7.904 74.43,7.904 C74.43,7.904 67.902,7.904 67.902,7.904 C67.902,7.904 65.885,1.637 65.885,1.637 C65.76,1.249 65.402,0.986 64.998,0.986 C64.594,0.986 64.237,1.249 64.111,1.637 C64.111,1.637 62.094,7.903 62.094,7.903 C62.094,7.903 55.569,7.903 55.569,7.903 C55.165,7.903 54.807,8.166 54.682,8.553 C54.558,8.941 54.694,9.367 55.021,9.605 C55.021,9.605 60.299,13.479 60.299,13.479 C60.299,13.479 58.285,19.747 58.285,19.747 C58.16,20.135 58.297,20.558 58.623,20.798 C58.788,20.917 58.979,20.978 59.172,20.978 C59.364,20.978 59.555,20.917 59.719,20.798 C59.719,20.798 64.998,16.926 64.998,16.926 C64.998,16.926 70.279,20.798 70.279,20.798 C70.607,21.039 71.048,21.039 71.376,20.798 C71.704,20.56 71.837,20.135 71.714,19.749 C71.714,19.749 69.698,13.481 69.698,13.481 C69.698,13.481 74.979,9.606 74.979,9.606 C75.305,9.367 75.441,8.942 75.317,8.555 Z" id="path-3"/>
                                                <path d="M49.184,8.555 C49.058,8.167 48.701,7.904 48.297,7.904 C48.297,7.904 41.769,7.904 41.769,7.904 C41.769,7.904 39.752,1.637 39.752,1.637 C39.627,1.249 39.269,0.986 38.865,0.986 C38.461,0.986 38.104,1.249 37.978,1.637 C37.978,1.637 35.961,7.903 35.961,7.903 C35.961,7.903 29.436,7.903 29.436,7.903 C29.031,7.903 28.674,8.166 28.549,8.553 C28.425,8.941 28.561,9.367 28.888,9.605 C28.888,9.605 34.166,13.479 34.166,13.479 C34.166,13.479 32.152,19.747 32.152,19.747 C32.027,20.135 32.164,20.558 32.49,20.798 C32.655,20.917 32.846,20.978 33.039,20.978 C33.231,20.978 33.422,20.917 33.586,20.798 C33.586,20.798 38.865,16.926 38.865,16.926 C38.865,16.926 44.146,20.798 44.146,20.798 C44.474,21.039 44.915,21.039 45.243,20.798 C45.571,20.56 45.704,20.135 45.581,19.749 C45.581,19.749 43.566,13.481 43.566,13.481 C43.566,13.481 48.846,9.606 48.846,9.606 C49.172,9.367 49.308,8.942 49.184,8.555 Z" id="path-4"/>
                                                <path d="M21.675,8.555 C21.55,8.167 21.192,7.904 20.789,7.904 C20.789,7.904 14.26,7.904 14.26,7.904 C14.26,7.904 12.244,1.637 12.244,1.637 C12.119,1.249 11.761,0.986 11.357,0.986 C10.953,0.986 10.595,1.249 10.47,1.637 C10.47,1.637 8.453,7.903 8.453,7.903 C8.453,7.903 1.928,7.903 1.928,7.903 C1.523,7.903 1.165,8.166 1.041,8.553 C0.917,8.941 1.052,9.367 1.379,9.605 C1.379,9.605 6.658,13.479 6.658,13.479 C6.658,13.479 4.643,19.747 4.643,19.747 C4.518,20.135 4.655,20.558 4.982,20.798 C5.146,20.917 5.338,20.978 5.53,20.978 C5.722,20.978 5.914,20.917 6.077,20.798 C6.077,20.798 11.357,16.926 11.357,16.926 C11.357,16.926 16.638,20.798 16.638,20.798 C16.966,21.039 17.407,21.039 17.734,20.798 C18.062,20.56 18.196,20.135 18.073,19.749 C18.073,19.749 16.057,13.481 16.057,13.481 C16.057,13.481 21.337,9.606 21.337,9.606 C21.664,9.367 21.8,8.942 21.675,8.555 Z" id="path-5"/>
                                            </g>
                                        </g>
                                    </svg>
                                    <span >{{ product[5] }}</span>
                                </div>
                            
                            </div>
                        </div>
                    </div>
                    {% if loop.index % 4 == 0 %}
                        </div><div class="row">
                    {% endif %}
                    {% endfor %}
                </div>
                
                
                <script>
                    function redirectToDetails(productId) {
                        window.location.href = "/product/" + productId;
                    }
                   
        
                </script>
                
                </div>
            </div>
        </div>
    </div>
    

    
    
    <!-- Bootstrap JS and jQuery (Optional) -->
    <script src="https://code.jquery.com/jquery-3.5.1.slim.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/@popperjs/core@2.5.4/dist/umd/popper.min.js"></script>
    <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.5.2/js/bootstrap.min.js"></script>
</body>
</html>
